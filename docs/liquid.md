使用流民主
======
在GoToken中，几乎所有需要决策的权限都使用[多签](./multisig.md)，迄今为止，多签极大的节约的GoToken的决策沟通成本。然而，随着越来越多的决策需要使用多签，一些弊端也逐渐浮现，例如，参与度不够，这导致了GT的决策效率的低下。为此，我们引入了流民主技术。

流民主技术有很多不同的使用方式，此处仅将流民主作为多签合约的引擎使用。

### 流民主多签合约(LiquidMultiSig)

[LiquidMultiSig](../contracts/cooperation/liquid/LiquidMultiSig.sol)是一个多签合约，这意味着和其他的多签合约的行为和接口是一致的，也就是说，可以使用
```
transfer_multisig(uint64 id, address _contract)
```
方法在不同的多签合约之间进行切换，切换之后的方法均是一致的，都被MultiSigTools进一步包装为可以继承的基类。

合约地址：0xf949a495dc135590Ac0C5bF092Afd76bD754e041

### 委托

与其他的多签合约方法所不同的是，在LiquidMultiSig中存在名为liquid_delegate的合约，通过该合约，可以进一步调用
```
function delegate(address _to);
function undelegate()
```
通过这两个方法，投票人可以将自己的票权委托给其他投票人，或者取消委托关系。

合约地址：0xE742e9b1b8184B28021834e5837deF906E920067

### 更多细节
流民主的思路看上去简单，但有一些细节值得讨论。

##### 多签过半之后，能否改变委托关系？
在目前但多签设计中，由于没有引入deadline，所以多签人数过半之后，决议就形成并执行，因此，委托人在决议形成之后，无法通过改变委托关系或自行多签改变最终的决议。

##### 多签未过半时，改变委托关系？
此时情况比较复杂，分两种情况，a)改变委托关系后，多签不过半，b)改变委托关系后，形成多签过半。

对于第一种情况，由于多签不过半，因此事实上不会触发任何决议。

对于第二种情况，例子如下，一共五个多签人员，分别为A、B、C、D、E，候选项为y,n， 表决开始时，
```
A -> y
B -> n
C -> y
```
在这三个表决之后，D将自己的票权委托给了A，此时事实上，y选项的多签人数已经过半，但是由于没有人触发，所以并不会立即执行。为了触发相应的条件，需要多签人员中的任意（可以为已投票人员）再次调用y的表决，以触发最终的执行。
这一过程和其他的多签行为有所区别，在其他的多签行为中，已表决的人员是不能再次表决的。

##### 某一个人的票权过重？
可能存在一种情况，在五个人的多签表决中，有四个人都将自己的票权直接或间接委托给了同一个人，这种情况是危险的，因为存在一个人可以立即通过任意的决议。

为了避免这种情况的发生，引入了
```
function set_democracy_no_majority(uint64 id, bool t) 
```
这一方法，以使得任意的委托代理，在默认情况下，都不能产生一个拥有多数票权。

另外，即使在允许拥有多数票权的情况下，一次表决也不能使决议执行，需要两次调用，一定程度上避免了作恶行为。

